package DAO;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;

import DTO.ClassesDTO;

public class ClassesDAO {
private Connection con;

public ClassesDAO() {
	con = DataProvider.getInstance().getConnection();
}
public ArrayList<ClassesDTO> MenuReceipt() throws SQLException {
    ArrayList<ClassesDTO> list = new ArrayList<>();
    String sql = "SELECT * FROM [classes]";
    PreparedStatement p = con.prepareStatement(sql);
    ResultSet r = p.executeQuery();
    while (r.next()) {
        int iD_Rec = r.getInt(1);
        int iD_Emp = r.getInt(2);
        String inputDayString = r.getString(3);
        int totalPrice = r.getInt(4);
        ClassesDTO data = new ClassesDTO(iD_Rec, iD_Emp, inputDay, totalPrice);
        list.add(data);
    }
    r.close();
    p.close();
    return list;
}
}
