package FORM;

import java.awt.EventQueue;

import javax.swing.JInternalFrame;

public class ClassesForm extends JInternalFrame {

	private static final long serialVersionUID = 1L;
	private MainForm mainForm;

	public ClassesForm() {
		this.mainForm = new MainForm();
		this.init();
		this.initTable();
	}

	
	public void init() {
		this.setTitle("Quản lý lớp");
		this.setSize(550,500);
		//setBounds(100, 100, 567, 450);
		getContentPane().setLayout(null);

		JPanel panel_1 = new JPanel();
		panel_1.setBounds(0, 10, 521, 379);
		getContentPane().add(panel_1);
		panel_1.setLayout(null);

		JLabel lblNewLabel = new JLabel("Tên sách");
		lblNewLabel.setBounds(30, 280, 45, 13);
		panel_1.add(lblNewLabel);

		JLabel lblNewLabel_1 = new JLabel("Mô tả");
		lblNewLabel_1.setBounds(30, 306, 45, 13);
		panel_1.add(lblNewLabel_1);

		txtTenSach = new JTextField();
		txtTenSach.setBounds(107, 277, 96, 19);
		panel_1.add(txtTenSach);
		txtTenSach.setColumns(10);

		txtMoTa = new JTextField();
		txtMoTa.setBounds(107, 303, 96, 19);
		panel_1.add(txtMoTa);
		txtMoTa.setColumns(10);

		nhaSachController = new NhaSachController(mainFrame,this);

		btnThem = new JButton("Thêm");
		btnThem.setBounds(30, 344, 85, 21);
		panel_1.add(btnThem);
		btnThem.addActionListener(nhaSachController);

		btnSua = new JButton("Sửa");
		btnSua.setBounds(140, 344, 85, 21);
		panel_1.add(btnSua);
		btnSua.addActionListener(nhaSachController);

		btnXoa = new JButton("Xóa");
		btnXoa.setBounds(253, 344, 85, 21);
		panel_1.add(btnXoa);
		btnXoa.addActionListener(nhaSachController);

		btnDong = new JButton("Đóng");
		btnDong.setBounds(361, 344, 85, 21);
		panel_1.add(btnDong);
		btnDong.addActionListener(nhaSachController);

		

		table = new JTable();
		table.setFillsViewportHeight(true);
		table.setModel(new DefaultTableModel(new Object[][] {}, new String[] { "Mã sách", "Tên sách", "Mô tả" }));
		table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);

		table.addMouseListener(nhaSachController);
		JScrollPane scrollPane = new JScrollPane(table, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,
				JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);
		scrollPane.setBounds(10, 10, 493, 249);
		panel_1.add(scrollPane);
		

	}
	public void initTable() {
		DefaultTableModel model = (DefaultTableModel) table.getModel();
		try {
			list = nhaSachController.MenuLoaiSach();
			for (LoaiSachModel data : list) {
				model.addRow(new Object[] { data.getLS_ID(), data.getTen(), data.getMoTa() });
			}
		} catch (SQLException ex) {
			ex.printStackTrace();
		}
	}
	
	
}
